[2020-07-21T04:32:47.060Z][QUERY]: START TRANSACTION
[2020-07-21T04:32:47.065Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T04:32:47.069Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:32:47.070Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:32:47.072Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T04:32:47.074Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T04:32:47.075Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T04:32:47.076Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T04:32:47.116Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T04:32:47.124Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T04:32:47.143Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T04:32:47.146Z][QUERY]: COMMIT
[2020-07-21T04:32:47.227Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T04:32:47.234Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T04:32:47.247Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:47.254Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:47.264Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:32:47.269Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T04:32:47.273Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T04:32:47.276Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T04:32:47.279Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T04:32:47.282Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T04:32:47.292Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:47.294Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:47.300Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:32:50.796Z][QUERY]: START TRANSACTION
[2020-07-21T04:32:50.800Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T04:32:50.805Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:32:50.806Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:32:50.808Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T04:32:50.810Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T04:32:50.812Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T04:32:50.813Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T04:32:50.854Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T04:32:50.867Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T04:32:50.879Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T04:32:50.882Z][QUERY]: COMMIT
[2020-07-21T04:32:50.908Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T04:32:50.913Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T04:32:50.920Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:50.930Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:50.939Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:32:50.944Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T04:32:50.948Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T04:32:50.952Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T04:32:50.955Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T04:32:50.958Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T04:32:50.968Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:50.971Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:32:50.977Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:34:45.512Z][QUERY]: START TRANSACTION
[2020-07-21T04:34:45.516Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T04:34:45.519Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:34:45.521Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:34:45.522Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T04:34:45.523Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T04:34:45.524Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T04:34:45.525Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T04:34:45.569Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T04:34:45.574Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T04:34:45.583Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T04:34:45.587Z][QUERY]: COMMIT
[2020-07-21T04:34:45.610Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T04:34:45.616Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T04:34:45.623Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:34:45.631Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:34:45.638Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:34:45.643Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T04:34:45.647Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T04:34:45.650Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T04:34:45.653Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T04:34:45.656Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T04:34:45.663Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:34:45.666Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:34:45.672Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:39:37.510Z][QUERY]: START TRANSACTION
[2020-07-21T04:39:37.514Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T04:39:37.518Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:39:37.520Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:39:37.521Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T04:39:37.522Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T04:39:37.524Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T04:39:37.525Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T04:39:37.561Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T04:39:37.574Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T04:39:37.584Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T04:39:37.588Z][QUERY]: COMMIT
[2020-07-21T04:39:37.630Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T04:39:37.635Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T04:39:37.642Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:39:37.650Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:39:37.659Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:39:37.664Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T04:39:37.668Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T04:39:37.673Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T04:39:37.676Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T04:39:37.678Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T04:39:37.685Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:39:37.689Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:39:37.695Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:41:42.174Z][QUERY]: START TRANSACTION
[2020-07-21T04:41:42.178Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T04:41:42.182Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:41:42.184Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:41:42.185Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T04:41:42.186Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T04:41:42.187Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T04:41:42.188Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T04:41:42.232Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T04:41:42.238Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T04:41:42.257Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T04:41:42.261Z][QUERY]: COMMIT
[2020-07-21T04:41:42.304Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T04:41:42.309Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T04:41:42.317Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:41:42.325Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:41:42.334Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:41:42.338Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T04:41:42.343Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T04:41:42.347Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T04:41:42.351Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T04:41:42.354Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T04:41:42.363Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:41:42.367Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:41:42.377Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:50:54.129Z][QUERY]: START TRANSACTION
[2020-07-21T04:50:54.139Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T04:50:54.144Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:50:54.146Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:50:54.151Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T04:50:54.152Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T04:50:54.156Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T04:50:54.157Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T04:50:54.228Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T04:50:54.313Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T04:50:54.340Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T04:50:54.347Z][QUERY]: COMMIT
[2020-07-21T04:50:54.953Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T04:50:55.008Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T04:50:55.044Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:50:55.053Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:50:55.127Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:50:55.251Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T04:50:55.296Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T04:50:55.353Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T04:50:55.357Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T04:50:55.368Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T04:50:55.389Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:50:55.406Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:50:55.433Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:57:18.748Z][QUERY]: START TRANSACTION
[2020-07-21T04:57:18.751Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T04:57:18.755Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:57:18.756Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T04:57:18.757Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T04:57:18.758Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T04:57:18.760Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T04:57:18.761Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T04:57:18.804Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T04:57:18.810Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T04:57:18.819Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T04:57:18.823Z][QUERY]: COMMIT
[2020-07-21T04:57:18.856Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T04:57:18.862Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T04:57:18.870Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:57:18.877Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:57:18.885Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T04:57:18.891Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T04:57:18.898Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T04:57:18.903Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T04:57:18.906Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T04:57:18.910Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T04:57:18.917Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:57:18.919Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T04:57:18.926Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:03:06.399Z][QUERY]: START TRANSACTION
[2020-07-21T05:03:06.403Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:03:06.406Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:03:06.408Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:03:06.409Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:03:06.410Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:03:06.411Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:03:06.412Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:03:06.449Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:03:06.455Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:03:06.471Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:03:06.475Z][QUERY]: COMMIT
[2020-07-21T05:03:06.515Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:03:06.521Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:03:06.529Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:03:06.536Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:03:06.544Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:03:06.549Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:03:06.555Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:03:06.558Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:03:06.561Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:03:06.564Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:03:06.572Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:03:06.575Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:03:06.581Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:03:19.187Z][QUERY]: START TRANSACTION
[2020-07-21T05:03:19.191Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:03:19.195Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:03:19.196Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:03:19.197Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:03:19.199Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:03:19.201Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:03:19.202Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:03:19.237Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:03:19.242Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:03:19.261Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:03:19.264Z][QUERY]: COMMIT
[2020-07-21T05:03:55.883Z][QUERY]: START TRANSACTION
[2020-07-21T05:03:55.887Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:03:55.890Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:03:55.892Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:03:55.893Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:03:55.894Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:03:55.895Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:03:55.897Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:03:55.935Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:03:55.940Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:03:55.957Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:03:55.961Z][QUERY]: COMMIT
[2020-07-21T05:06:33.393Z][QUERY]: START TRANSACTION
[2020-07-21T05:06:33.408Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:06:33.413Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:06:33.415Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:06:33.418Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:06:33.420Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:06:33.422Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:06:33.424Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:06:33.493Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:06:33.501Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:06:33.533Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:06:33.542Z][QUERY]: COMMIT
[2020-07-21T05:07:15.834Z][QUERY]: START TRANSACTION
[2020-07-21T05:07:15.838Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:07:15.842Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:07:15.844Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:07:15.845Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:07:15.846Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:07:15.847Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:07:15.848Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:07:15.884Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:07:15.889Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:07:15.900Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:07:15.909Z][QUERY]: COMMIT
[2020-07-21T05:11:11.484Z][QUERY]: START TRANSACTION
[2020-07-21T05:11:11.489Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:11:11.492Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:11:11.497Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:11:11.498Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:11:11.499Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:11:11.501Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:11:11.502Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:11:11.573Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:11:11.583Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:11:11.612Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:11:11.617Z][QUERY]: COMMIT
[2020-07-21T05:11:11.768Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:11:11.788Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:11:11.801Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:11.809Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:11.820Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:11:11.825Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:11:11.829Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:11:11.834Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:11:11.838Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:11:11.840Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:11:11.848Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:11.851Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:11.860Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:11:22.019Z][QUERY]: START TRANSACTION
[2020-07-21T05:11:22.023Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:11:22.026Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:11:22.028Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:11:22.029Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:11:22.030Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:11:22.032Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:11:22.033Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:11:22.072Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:11:22.078Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:11:22.094Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:11:22.099Z][QUERY]: COMMIT
[2020-07-21T05:11:22.147Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:11:22.153Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:11:22.170Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:22.181Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:22.189Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:11:22.193Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:11:22.197Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:11:22.202Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:11:22.205Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:11:22.208Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:11:22.219Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:22.222Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:22.229Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:11:37.064Z][QUERY]: START TRANSACTION
[2020-07-21T05:11:37.069Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:11:37.073Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:11:37.075Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:11:37.077Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:11:37.078Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:11:37.079Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:11:37.081Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:11:37.126Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:11:37.134Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:11:37.153Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:11:37.156Z][QUERY]: COMMIT
[2020-07-21T05:11:37.178Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:11:37.183Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:11:37.191Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:37.199Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:37.206Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:11:37.210Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:11:37.214Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:11:37.220Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:11:37.223Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:11:37.226Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:11:37.236Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:37.239Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:11:37.244Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:15:04.748Z][QUERY]: START TRANSACTION
[2020-07-21T05:15:04.755Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:15:04.760Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:15:04.762Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:15:04.765Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:15:04.767Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:15:04.769Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:15:04.770Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:15:04.843Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:15:04.856Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:15:04.877Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:15:04.884Z][QUERY]: COMMIT
[2020-07-21T05:15:04.988Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:15:05.000Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:15:05.011Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:05.021Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:05.029Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:15:05.039Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:15:05.044Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:15:05.048Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:15:05.052Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:15:05.056Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:15:05.068Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:05.072Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:05.105Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:15:08.674Z][QUERY]: START TRANSACTION
[2020-07-21T05:15:08.679Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:15:08.686Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:15:08.687Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:15:08.689Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:15:08.690Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:15:08.692Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:15:08.694Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:15:08.746Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:15:08.757Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:15:08.790Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:15:08.795Z][QUERY]: COMMIT
[2020-07-21T05:15:08.822Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:15:08.828Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:15:08.834Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:08.842Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:08.852Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:15:08.856Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:15:08.860Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:15:08.865Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:15:08.869Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:15:08.872Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:15:08.879Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:08.883Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:08.892Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:15:53.409Z][QUERY]: START TRANSACTION
[2020-07-21T05:15:53.414Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:15:53.417Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:15:53.419Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:15:53.420Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:15:53.421Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:15:53.422Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:15:53.423Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:15:53.459Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:15:53.465Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:15:53.482Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:15:53.485Z][QUERY]: COMMIT
[2020-07-21T05:15:53.505Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:15:53.509Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:15:53.515Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:53.522Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:53.528Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:15:53.533Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:15:53.537Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:15:53.540Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:15:53.542Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:15:53.549Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:15:53.559Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:53.563Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:15:53.569Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:19:01.512Z][QUERY]: START TRANSACTION
[2020-07-21T05:19:01.516Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:19:01.520Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:19:01.521Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:19:01.522Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:19:01.524Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:19:01.525Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:19:01.526Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:19:01.561Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:19:01.573Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:19:01.587Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:19:01.590Z][QUERY]: COMMIT
[2020-07-21T05:19:01.610Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:19:01.614Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:19:01.620Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:01.627Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:01.633Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:19:01.638Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:19:01.642Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:19:01.645Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:19:01.649Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:19:01.653Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:19:01.660Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:01.663Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:01.671Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:19:36.428Z][QUERY]: START TRANSACTION
[2020-07-21T05:19:36.432Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:19:36.435Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:19:36.437Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:19:36.438Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:19:36.439Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:19:36.440Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:19:36.441Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:19:36.474Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:19:36.486Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:19:36.495Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:19:36.498Z][QUERY]: COMMIT
[2020-07-21T05:19:36.517Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:19:36.521Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:19:36.526Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:36.532Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:36.538Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:19:36.542Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:19:36.546Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:19:36.549Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:19:36.552Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:19:36.554Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:19:36.561Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:36.564Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:19:36.570Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:21:48.439Z][QUERY]: START TRANSACTION
[2020-07-21T05:21:48.445Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:21:48.449Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:21:48.451Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:21:48.453Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:21:48.455Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:21:48.456Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:21:48.456Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:21:48.524Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:21:48.546Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:21:48.566Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:21:48.572Z][QUERY]: COMMIT
[2020-07-21T05:21:48.605Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:21:48.612Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:21:48.623Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:21:48.642Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:21:48.653Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:21:48.658Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:21:48.676Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:21:48.681Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:21:48.685Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:21:48.689Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:21:48.699Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:21:48.706Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:21:48.724Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:23:15.022Z][QUERY]: START TRANSACTION
[2020-07-21T05:23:15.026Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:23:15.031Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:23:15.033Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:23:15.034Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:23:15.035Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:23:15.036Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:23:15.037Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:23:15.088Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:23:15.094Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:23:15.117Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:23:15.121Z][QUERY]: COMMIT
[2020-07-21T05:23:15.146Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:23:15.155Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:23:15.161Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:23:15.167Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:23:15.173Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:23:15.176Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:23:15.181Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:23:15.185Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:23:15.188Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:23:15.190Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:23:15.198Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:23:15.201Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:23:15.207Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:23:19.372Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:23:19.375Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:23:19.408Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:23:19.410Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:26:23.838Z][QUERY]: START TRANSACTION
[2020-07-21T05:26:23.841Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:26:23.844Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:26:23.846Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:26:23.848Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:26:23.849Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:26:23.850Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:26:23.852Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:26:23.890Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:26:23.896Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:26:23.914Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:26:23.920Z][QUERY]: COMMIT
[2020-07-21T05:26:23.945Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:26:23.951Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:26:23.960Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:26:23.968Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:26:23.977Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:26:23.982Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:26:23.987Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:26:23.991Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:26:23.995Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:26:23.999Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:26:24.008Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:26:24.011Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:26:24.020Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:40.577Z][QUERY]: START TRANSACTION
[2020-07-21T05:29:40.584Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:29:40.593Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:40.595Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:40.596Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:29:40.603Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:29:40.604Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:29:40.606Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:29:40.665Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:29:40.681Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:29:40.698Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:29:40.704Z][QUERY]: COMMIT
[2020-07-21T05:29:40.729Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:29:40.735Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:29:40.742Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:40.750Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:40.760Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:40.765Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:29:40.770Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:29:40.774Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:29:40.777Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:29:40.781Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:29:40.792Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:40.796Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:40.802Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:43.403Z][QUERY]: START TRANSACTION
[2020-07-21T05:29:43.408Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:29:43.412Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:43.413Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:43.415Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:29:43.416Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:29:43.417Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:29:43.418Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:29:43.460Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:29:43.468Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:29:43.494Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:29:43.498Z][QUERY]: COMMIT
[2020-07-21T05:29:43.521Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:29:43.526Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:29:43.533Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:43.540Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:43.546Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:43.549Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:29:43.553Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:29:43.556Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:29:43.559Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:29:43.561Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:29:43.568Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:43.571Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:43.578Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:46.918Z][QUERY]: START TRANSACTION
[2020-07-21T05:29:46.922Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:29:46.925Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:46.927Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:46.928Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:29:46.929Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:29:46.930Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:29:46.931Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:29:46.971Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:29:46.979Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:29:47.003Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:29:47.008Z][QUERY]: COMMIT
[2020-07-21T05:29:49.175Z][QUERY]: START TRANSACTION
[2020-07-21T05:29:49.179Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:29:49.182Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:49.183Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:49.184Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:29:49.186Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:29:49.187Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:29:49.188Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:29:49.219Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:29:49.224Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:29:49.240Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:29:49.244Z][QUERY]: COMMIT
[2020-07-21T05:29:49.261Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:29:49.265Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:29:49.271Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:49.278Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:49.287Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:49.290Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:29:49.293Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:29:49.297Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:29:49.300Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:29:49.302Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:29:49.309Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:49.312Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:49.318Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:52.109Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:29:52.112Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:29:52.154Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:29:52.155Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:29:58.332Z][QUERY]: START TRANSACTION
[2020-07-21T05:29:58.337Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:29:58.345Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:58.346Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:29:58.348Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:29:58.349Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:29:58.350Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:29:58.352Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:29:58.388Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:29:58.399Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:29:58.410Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:29:58.413Z][QUERY]: COMMIT
[2020-07-21T05:29:58.432Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:29:58.437Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:29:58.444Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:58.452Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:58.462Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:29:58.467Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:29:58.471Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:29:58.474Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:29:58.477Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:29:58.484Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:29:58.495Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:58.529Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:29:58.543Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:30:04.208Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:04.212Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:04.249Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:04.252Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:11.040Z][QUERY]: START TRANSACTION
[2020-07-21T05:30:11.043Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:30:11.047Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:30:11.048Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:30:11.049Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:30:11.051Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:30:11.052Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:30:11.052Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:30:11.084Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:30:11.089Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:30:11.105Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:30:11.109Z][QUERY]: COMMIT
[2020-07-21T05:30:11.127Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:30:11.131Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:30:11.137Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:11.143Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:11.151Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:30:11.155Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:30:11.158Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:30:11.161Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:30:11.165Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:30:11.168Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:30:11.175Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:11.178Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:11.185Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:30:20.027Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:20.032Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:20.072Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:20.073Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:56.957Z][QUERY]: START TRANSACTION
[2020-07-21T05:30:56.962Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:30:56.966Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:30:56.967Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:30:56.968Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:30:56.969Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:30:56.970Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:30:56.972Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:30:57.007Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:30:57.019Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:30:57.030Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:30:57.033Z][QUERY]: COMMIT
[2020-07-21T05:30:57.053Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:30:57.057Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:30:57.063Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:57.071Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:57.078Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:30:57.083Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:30:57.086Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:30:57.089Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:30:57.093Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:30:57.097Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:30:57.105Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:57.108Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:30:57.115Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:30:59.336Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:59.340Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:59.371Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:30:59.372Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:31:43.451Z][QUERY]: START TRANSACTION
[2020-07-21T05:31:43.456Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:31:43.461Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:31:43.462Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:31:43.464Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:31:43.465Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:31:43.466Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:31:43.467Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:31:43.509Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:31:43.518Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:31:43.535Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:31:43.538Z][QUERY]: COMMIT
[2020-07-21T05:31:43.555Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:31:43.560Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:31:43.566Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:31:43.572Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:31:43.580Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:31:43.583Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:31:43.587Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:31:43.590Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:31:43.593Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:31:43.596Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:31:43.603Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:31:43.606Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:31:43.613Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:31:46.211Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:31:46.215Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:31:46.270Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:31:46.272Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:33:07.140Z][QUERY]: START TRANSACTION
[2020-07-21T05:33:07.147Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:33:07.153Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:33:07.155Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:33:07.158Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:33:07.160Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:33:07.161Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:33:07.163Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:33:07.233Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:33:07.244Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:33:07.279Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:33:07.286Z][QUERY]: COMMIT
[2020-07-21T05:33:07.321Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:33:07.333Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:33:07.358Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:07.371Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:07.383Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:33:07.392Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:33:07.397Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:33:07.403Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:33:07.407Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:33:07.410Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:33:07.419Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:07.422Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:07.432Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:33:09.692Z][QUERY]: START TRANSACTION
[2020-07-21T05:33:09.696Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:33:09.699Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:33:09.700Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:33:09.703Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:33:09.704Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:33:09.705Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:33:09.706Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:33:09.739Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:33:09.744Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:33:09.761Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:33:09.765Z][QUERY]: COMMIT
[2020-07-21T05:33:09.786Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:33:09.791Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:33:09.797Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:09.803Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:09.810Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:33:09.814Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:33:09.819Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:33:09.824Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:33:09.827Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:33:09.830Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:33:09.838Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:09.840Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:09.846Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:33:12.932Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:33:12.935Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:33:12.983Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:33:12.985Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:33:57.315Z][QUERY]: START TRANSACTION
[2020-07-21T05:33:57.318Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:33:57.321Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:33:57.323Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:33:57.324Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:33:57.325Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:33:57.326Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:33:57.328Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:33:57.359Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:33:57.365Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:33:57.381Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:33:57.385Z][QUERY]: COMMIT
[2020-07-21T05:33:57.403Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:33:57.407Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:33:57.414Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:57.420Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:57.427Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:33:57.431Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:33:57.435Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:33:57.439Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:33:57.442Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:33:57.445Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:33:57.452Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:57.455Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:33:57.462Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:34:00.098Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:34:00.103Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:34:00.166Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:34:00.168Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:34:28.882Z][QUERY]: START TRANSACTION
[2020-07-21T05:34:28.886Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:34:28.889Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:34:28.891Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:34:28.892Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:34:28.894Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:34:28.896Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:34:28.898Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:34:28.932Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:34:28.937Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:34:28.953Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:34:28.957Z][QUERY]: COMMIT
[2020-07-21T05:34:28.974Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:34:28.978Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:34:28.985Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:34:28.992Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:34:29.001Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:34:29.006Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:34:29.010Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:34:29.016Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:34:29.019Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:34:29.023Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:34:29.032Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:34:29.035Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:34:29.042Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:34:34.768Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:34:34.772Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:34:34.834Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:34:34.835Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:23.718Z][QUERY]: START TRANSACTION
[2020-07-21T05:35:23.721Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:35:23.725Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:35:23.727Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:35:23.729Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:35:23.730Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:35:23.731Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:35:23.732Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:35:23.765Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:35:23.776Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:35:23.785Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:35:23.789Z][QUERY]: COMMIT
[2020-07-21T05:35:23.806Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:35:23.810Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:35:23.816Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:23.822Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:23.830Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:35:23.834Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:35:23.837Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:35:23.841Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:35:23.845Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:35:23.848Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:35:23.856Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:23.860Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:23.866Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:35:30.733Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:30.739Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:30.797Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:30.799Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:46.851Z][QUERY]: START TRANSACTION
[2020-07-21T05:35:46.857Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:35:46.862Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:35:46.863Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:35:46.864Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:35:46.866Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:35:46.867Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:35:46.869Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:35:46.902Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:35:46.914Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:35:46.924Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:35:46.928Z][QUERY]: COMMIT
[2020-07-21T05:35:46.947Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:35:46.951Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:35:46.956Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:46.963Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:46.971Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:35:46.977Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:35:46.980Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:35:46.983Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:35:46.986Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:35:46.991Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:35:47.000Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:47.002Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:35:47.010Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:35:52.017Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:52.055Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:53.130Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:35:53.132Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:36:18.150Z][QUERY]: START TRANSACTION
[2020-07-21T05:36:18.154Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T05:36:18.157Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:36:18.158Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T05:36:18.159Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T05:36:18.160Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T05:36:18.162Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T05:36:18.162Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T05:36:18.197Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T05:36:18.210Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T05:36:18.222Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T05:36:18.226Z][QUERY]: COMMIT
[2020-07-21T05:36:18.245Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T05:36:18.249Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T05:36:18.254Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:36:18.260Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:36:18.266Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:36:18.270Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T05:36:18.274Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T05:36:18.277Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T05:36:18.280Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T05:36:18.283Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T05:36:18.290Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:36:18.293Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T05:36:18.302Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T05:36:20.822Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:36:20.825Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:36:20.857Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:36:20.859Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:37:45.680Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:37:45.682Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:37:45.764Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:37:45.766Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:49:40.371Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:49:40.373Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:49:40.526Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:49:40.528Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:50:18.657Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:50:18.660Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:50:18.732Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T05:50:18.734Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:51:52.342Z][QUERY]: START TRANSACTION
[2020-07-21T13:51:52.359Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T13:51:52.371Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:51:52.374Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:51:52.375Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T13:51:52.377Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T13:51:52.379Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T13:51:52.381Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T13:51:52.459Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T13:51:52.472Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T13:51:52.485Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T13:51:52.490Z][QUERY]: COMMIT
[2020-07-21T13:51:52.520Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T13:51:52.527Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T13:51:52.535Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:51:52.542Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:51:52.551Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:51:52.555Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T13:51:52.558Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T13:51:52.561Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:51:52.566Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T13:51:52.569Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T13:51:52.575Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:51:52.578Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:51:52.586Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:52:11.423Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:52:11.434Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:52:11.491Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:52:11.494Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:54:40.606Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:54:40.607Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:54:40.630Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-74",1]
[2020-07-21T13:54:40.634Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:54:40.637Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:54:40.642Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:54:40.644Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",0,0,"-74",1]
[2020-07-21T13:54:40.651Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` IN (?) -- PARAMETERS: [1]
[2020-07-21T13:54:40.659Z][QUERY]: START TRANSACTION
[2020-07-21T13:54:40.661Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",0,0,"-74",1]
[2020-07-21T13:54:40.665Z][QUERY]: UPDATE `esp` SET `online` = ? WHERE `id` IN (?) -- PARAMETERS: [0,1]
[2020-07-21T13:54:40.671Z][QUERY]: COMMIT
[2020-07-21T13:54:40.675Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:54:40.687Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:54:45.739Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["/platform-esp#aok5lUeRawz6niDNAAAC"]
[2020-07-21T13:54:45.741Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["/platform-esp#aok5lUeRawz6niDNAAAC"]
[2020-07-21T13:55:04.611Z][QUERY]: START TRANSACTION
[2020-07-21T13:55:04.618Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T13:55:04.623Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:55:04.624Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:55:04.626Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T13:55:04.627Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T13:55:04.628Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T13:55:04.629Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T13:55:04.675Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T13:55:04.686Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T13:55:04.715Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T13:55:04.722Z][QUERY]: COMMIT
[2020-07-21T13:55:04.776Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T13:55:04.780Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T13:55:04.791Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:55:04.798Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:55:04.814Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:55:04.826Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T13:55:04.837Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T13:55:04.843Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:55:04.848Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T13:55:04.853Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T13:55:04.873Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:55:04.895Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:55:04.925Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:55:07.681Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:55:07.689Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:55:07.719Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:55:07.721Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:56:48.116Z][QUERY]: START TRANSACTION
[2020-07-21T13:56:48.120Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T13:56:48.123Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:56:48.124Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:56:48.127Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T13:56:48.128Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T13:56:48.129Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T13:56:48.130Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T13:56:48.173Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T13:56:48.186Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T13:56:48.199Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T13:56:48.202Z][QUERY]: COMMIT
[2020-07-21T13:56:48.224Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T13:56:48.230Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T13:56:48.237Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:48.244Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:48.253Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:56:48.256Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T13:56:48.262Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T13:56:48.266Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:56:48.270Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T13:56:48.273Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T13:56:48.284Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:48.287Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:48.294Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:56:54.050Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:56:54.054Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:56:54.107Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:56:54.111Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:56:59.520Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.522Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.555Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-74",1]
[2020-07-21T13:56:59.563Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.565Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.569Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.571Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",0,0,"-74",1]
[2020-07-21T13:56:59.583Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` IN (?) -- PARAMETERS: [1]
[2020-07-21T13:56:59.593Z][QUERY]: START TRANSACTION
[2020-07-21T13:56:59.596Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",0,0,"-74",1]
[2020-07-21T13:56:59.600Z][QUERY]: UPDATE `esp` SET `auth` = ? WHERE `id` IN (?) -- PARAMETERS: [1,1]
[2020-07-21T13:56:59.604Z][QUERY]: COMMIT
[2020-07-21T13:56:59.619Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:56:59.630Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:56:59.694Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.696Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.700Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-74",1]
[2020-07-21T13:56:59.772Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.789Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:56:59.794Z][QUERY]: SELECT `EspPin`.`id` AS `EspPin_id`, `EspPin`.`name` AS `EspPin_name`, `EspPin`.`input` AS `EspPin_input`, `EspPin`.`outputType` AS `EspPin_outputType`, `EspPin`.`outputPrimary` AS `EspPin_outputPrimary`, `EspPin`.`ouputSecondary` AS `EspPin_ouputSecondary`, `EspPin`.`dualToggleCount` AS `EspPin_dualToggleCount`, `EspPin`.`statusCloud` AS `EspPin_statusCloud`, `EspPin`.`status` AS `EspPin_status`, `EspPin`.`espId` AS `EspPin_espId` FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:56:59.796Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-75",1]
[2020-07-21T13:56:59.802Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [1,null,0,0,0,1,0,1,0,1]
[2020-07-21T13:56:59.828Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [2,null,1,3,1,1,0,1,0,2]
[2020-07-21T13:56:59.840Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [3,null,2,1,2,2,0,1,1,3]
[2020-07-21T13:56:59.862Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [4,null,3,1,3,3,0,2,1,4]
[2020-07-21T13:56:59.867Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [5,null,4,2,4,5,0,1,0,5]
[2020-07-21T13:56:59.890Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [6,null,5,3,5,5,0,1,0,6]
[2020-07-21T13:56:59.901Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [7,null,6,1,6,6,0,2,1,7]
[2020-07-21T13:56:59.904Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [8,null,7,1,7,7,0,2,1,8]
[2020-07-21T13:56:59.907Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:56:59.913Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:57:29.115Z][QUERY]: START TRANSACTION
[2020-07-21T13:57:29.119Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T13:57:29.125Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:57:29.126Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:57:29.128Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T13:57:29.129Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T13:57:29.131Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T13:57:29.131Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T13:57:29.183Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T13:57:29.194Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T13:57:29.217Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T13:57:29.221Z][QUERY]: COMMIT
[2020-07-21T13:57:29.245Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T13:57:29.252Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T13:57:29.261Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:29.270Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:29.291Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:57:29.297Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T13:57:29.301Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T13:57:29.305Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:57:29.310Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T13:57:29.314Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T13:57:29.324Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:29.328Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:29.340Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:57:32.057Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:32.060Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:32.070Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-75",1]
[2020-07-21T13:57:32.099Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:32.101Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:32.104Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-76",1]
[2020-07-21T13:57:32.110Z][QUERY]: SELECT `EspPin`.`id` AS `EspPin_id`, `EspPin`.`name` AS `EspPin_name`, `EspPin`.`input` AS `EspPin_input`, `EspPin`.`outputType` AS `EspPin_outputType`, `EspPin`.`outputPrimary` AS `EspPin_outputPrimary`, `EspPin`.`ouputSecondary` AS `EspPin_ouputSecondary`, `EspPin`.`dualToggleCount` AS `EspPin_dualToggleCount`, `EspPin`.`statusCloud` AS `EspPin_statusCloud`, `EspPin`.`status` AS `EspPin_status`, `EspPin`.`espId` AS `EspPin_espId` FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:57:32.116Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [1,null,0,0,0,1,0,1,0,1]
[2020-07-21T13:57:32.118Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [2,null,1,3,1,1,0,1,0,2]
[2020-07-21T13:57:32.122Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [3,null,2,1,2,2,0,1,1,3]
[2020-07-21T13:57:32.126Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [4,null,3,1,3,3,0,2,1,4]
[2020-07-21T13:57:32.129Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [5,null,4,2,4,5,0,1,0,5]
[2020-07-21T13:57:32.131Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [6,null,5,3,5,5,0,1,0,6]
[2020-07-21T13:57:32.134Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [7,null,6,1,6,6,0,2,1,7]
[2020-07-21T13:57:32.137Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [8,null,7,1,7,7,0,2,1,8]
[2020-07-21T13:57:32.141Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:57:32.149Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:57:35.061Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:57:35.067Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:57:35.130Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:57:35.132Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:57:47.520Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:47.526Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-79",1]
[2020-07-21T13:57:58.515Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:57:58.520Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-76",1]
[2020-07-21T13:58:08.538Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:08.541Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-78",1]
[2020-07-21T13:58:10.560Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:10.563Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-76",1]
[2020-07-21T13:58:20.876Z][QUERY]: START TRANSACTION
[2020-07-21T13:58:20.880Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T13:58:20.883Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:58:20.886Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:58:20.888Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T13:58:20.889Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T13:58:20.890Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T13:58:20.892Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T13:58:20.944Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T13:58:20.949Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T13:58:20.967Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T13:58:20.973Z][QUERY]: COMMIT
[2020-07-21T13:58:20.994Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T13:58:21.000Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T13:58:21.008Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:21.015Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:21.025Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:58:21.030Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T13:58:21.034Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T13:58:21.039Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:58:21.043Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T13:58:21.046Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T13:58:21.056Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:21.060Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:21.069Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:58:23.755Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:23.759Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:23.767Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-76",1]
[2020-07-21T13:58:23.790Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:23.791Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:23.798Z][QUERY]: SELECT `EspPin`.`id` AS `EspPin_id`, `EspPin`.`name` AS `EspPin_name`, `EspPin`.`input` AS `EspPin_input`, `EspPin`.`outputType` AS `EspPin_outputType`, `EspPin`.`outputPrimary` AS `EspPin_outputPrimary`, `EspPin`.`ouputSecondary` AS `EspPin_ouputSecondary`, `EspPin`.`dualToggleCount` AS `EspPin_dualToggleCount`, `EspPin`.`statusCloud` AS `EspPin_statusCloud`, `EspPin`.`status` AS `EspPin_status`, `EspPin`.`espId` AS `EspPin_espId` FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:58:23.800Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-76",1]
[2020-07-21T13:58:23.807Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [1,null,0,0,0,1,0,1,0,1]
[2020-07-21T13:58:23.810Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [2,null,1,3,1,1,0,1,0,2]
[2020-07-21T13:58:23.813Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [3,null,2,1,2,2,0,1,1,3]
[2020-07-21T13:58:23.816Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [4,null,3,1,3,3,0,2,1,4]
[2020-07-21T13:58:23.819Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [5,null,4,2,4,5,0,1,0,5]
[2020-07-21T13:58:23.821Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [6,null,5,3,5,5,0,1,0,6]
[2020-07-21T13:58:23.824Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [7,null,6,1,6,6,0,2,1,7]
[2020-07-21T13:58:23.827Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [8,null,7,1,7,7,0,2,1,8]
[2020-07-21T13:58:23.830Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:58:23.839Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:58:26.423Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:26.426Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:26.448Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:26.582Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:36.082Z][QUERY]: START TRANSACTION
[2020-07-21T13:58:36.091Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T13:58:36.095Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:58:36.097Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T13:58:36.098Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T13:58:36.099Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T13:58:36.102Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T13:58:36.104Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T13:58:36.171Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T13:58:36.188Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T13:58:36.205Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T13:58:36.210Z][QUERY]: COMMIT
[2020-07-21T13:58:36.236Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T13:58:36.241Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T13:58:36.254Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:36.262Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:36.275Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:58:36.282Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T13:58:36.289Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T13:58:36.292Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:58:36.297Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T13:58:36.312Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T13:58:36.323Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:36.327Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:36.338Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:58:38.904Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:38.915Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:38.984Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:38.990Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T13:58:41.128Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:41.130Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:41.143Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-76",1]
[2020-07-21T13:58:41.173Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:41.175Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:58:41.178Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-77",1]
[2020-07-21T13:58:41.182Z][QUERY]: SELECT `EspPin`.`id` AS `EspPin_id`, `EspPin`.`name` AS `EspPin_name`, `EspPin`.`input` AS `EspPin_input`, `EspPin`.`outputType` AS `EspPin_outputType`, `EspPin`.`outputPrimary` AS `EspPin_outputPrimary`, `EspPin`.`ouputSecondary` AS `EspPin_ouputSecondary`, `EspPin`.`dualToggleCount` AS `EspPin_dualToggleCount`, `EspPin`.`statusCloud` AS `EspPin_statusCloud`, `EspPin`.`status` AS `EspPin_status`, `EspPin`.`espId` AS `EspPin_espId` FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:58:41.195Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [1,null,0,0,0,1,0,1,0,1]
[2020-07-21T13:58:41.199Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [2,null,1,3,1,1,0,1,0,2]
[2020-07-21T13:58:41.205Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [3,null,2,1,2,2,0,1,1,3]
[2020-07-21T13:58:41.208Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [4,null,3,1,3,3,0,2,1,4]
[2020-07-21T13:58:41.211Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [5,null,4,2,4,5,0,1,0,5]
[2020-07-21T13:58:41.214Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [6,null,5,3,5,5,0,1,0,6]
[2020-07-21T13:58:41.219Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [7,null,6,1,6,6,0,2,1,7]
[2020-07-21T13:58:41.223Z][QUERY]: UPDATE `esp_pin` SET `id` = ?, `name` = ?, `input` = ?, `outputType` = ?, `outputPrimary` = ?, `ouputSecondary` = ?, `dualToggleCount` = ?, `statusCloud` = ?, `status` = ? WHERE `id` IN (?) -- PARAMETERS: [8,null,7,1,7,7,0,2,1,8]
[2020-07-21T13:58:41.227Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:58:41.239Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T13:59:35.218Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:59:35.224Z][QUERY]: UPDATE `esp` SET `id` = ?, `name` = ?, `online` = ?, `auth` = ?, `detail_rssi` = ? WHERE `id` IN (?) -- PARAMETERS: [1,"ESP1N403E91636RSC185G2K",1,1,"-78",1]
[2020-07-21T13:59:40.720Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T13:59:40.727Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` IN (?) -- PARAMETERS: [1]
[2020-07-21T13:59:40.733Z][QUERY]: START TRANSACTION
[2020-07-21T13:59:40.738Z][QUERY]: UPDATE `esp` SET `online` = ? WHERE `id` IN (?) -- PARAMETERS: [0,1]
[2020-07-21T13:59:40.749Z][QUERY]: COMMIT
[2020-07-21T13:59:40.762Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`id` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T13:59:40.774Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:10:15.925Z][QUERY]: START TRANSACTION
[2020-07-21T14:10:15.937Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:10:15.943Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:10:15.948Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:10:15.953Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:10:15.954Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:10:15.956Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:10:15.957Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:10:16.041Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:10:16.072Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:10:16.164Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:10:16.177Z][QUERY]: COMMIT
[2020-07-21T14:10:16.226Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:10:16.243Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:10:16.258Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:10:16.287Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:10:16.297Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:10:16.311Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:10:16.321Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:10:16.328Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:10:16.332Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:10:16.339Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:10:16.355Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:10:16.370Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:10:16.397Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:10:22.469Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:10:22.489Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:10:22.602Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:10:22.611Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:11:36.169Z][QUERY]: START TRANSACTION
[2020-07-21T14:11:36.173Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:11:36.177Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:11:36.179Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:11:36.180Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:11:36.181Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:11:36.182Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:11:36.184Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:11:36.227Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:11:36.232Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:11:36.254Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:11:36.258Z][QUERY]: COMMIT
[2020-07-21T14:11:36.278Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:11:36.282Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:11:36.287Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:36.294Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:36.302Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:11:36.306Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:11:36.309Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:11:36.312Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:11:36.315Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:11:36.318Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:11:36.326Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:36.330Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:36.338Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:11:39.020Z][QUERY]: START TRANSACTION
[2020-07-21T14:11:39.026Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:11:39.031Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:11:39.034Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:11:39.035Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:11:39.036Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:11:39.037Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:11:39.039Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:11:39.091Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:11:39.106Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:11:39.118Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:11:39.123Z][QUERY]: COMMIT
[2020-07-21T14:11:39.141Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:11:39.146Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:11:39.153Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:39.158Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:39.164Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:11:39.168Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:11:39.171Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:11:39.174Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:11:39.177Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:11:39.180Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:11:39.187Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:39.189Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:11:39.196Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:11:45.154Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:11:45.159Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:11:45.206Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:11:45.208Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:16:26.128Z][QUERY]: START TRANSACTION
[2020-07-21T14:16:26.134Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:16:26.138Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:16:26.139Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:16:26.141Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:16:26.142Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:16:26.143Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:16:26.144Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:16:26.176Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:16:26.181Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:16:26.192Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:16:26.196Z][QUERY]: COMMIT
[2020-07-21T14:16:26.216Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:16:26.220Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:16:26.227Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:16:26.235Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:16:26.243Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:16:26.247Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:16:26.252Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:16:26.256Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:16:26.261Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:16:26.265Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:16:26.273Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:16:26.276Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:16:26.283Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:16:32.277Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:16:32.287Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:16:32.364Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:16:32.365Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:26:32.465Z][QUERY]: START TRANSACTION
[2020-07-21T14:26:32.485Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:26:32.490Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:26:32.492Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:26:32.499Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:26:32.500Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:26:32.501Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:26:32.503Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:26:32.635Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:26:32.644Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:26:32.666Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:26:32.672Z][QUERY]: COMMIT
[2020-07-21T14:26:32.704Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:26:32.710Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:26:32.721Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:32.730Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:32.743Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:26:32.752Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:26:32.756Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:26:32.760Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:26:32.766Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:26:32.770Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:26:32.783Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:32.787Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:32.798Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:26:35.476Z][QUERY]: START TRANSACTION
[2020-07-21T14:26:35.482Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:26:35.486Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:26:35.487Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:26:35.489Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:26:35.490Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:26:35.491Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:26:35.493Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:26:35.546Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:26:35.553Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:26:35.567Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:26:35.571Z][QUERY]: COMMIT
[2020-07-21T14:26:35.594Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:26:35.603Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:26:35.612Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:35.624Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:35.635Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:26:35.640Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:26:35.644Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:26:35.649Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:26:35.653Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:26:35.656Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:26:35.666Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:35.669Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:35.678Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:26:42.702Z][QUERY]: START TRANSACTION
[2020-07-21T14:26:42.706Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:26:42.709Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:26:42.711Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:26:42.712Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:26:42.714Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:26:42.715Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:26:42.716Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:26:42.758Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:26:42.764Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:26:42.775Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:26:42.778Z][QUERY]: COMMIT
[2020-07-21T14:26:42.802Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:26:42.808Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:26:42.815Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:42.822Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:42.830Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:26:42.834Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:26:42.837Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:26:42.842Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:26:42.846Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:26:42.849Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:26:42.857Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:42.860Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:26:42.867Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:26:48.605Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:26:48.608Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:26:48.636Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:26:48.638Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:10.790Z][QUERY]: START TRANSACTION
[2020-07-21T14:28:10.794Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:28:10.797Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:28:10.798Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:28:10.799Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:28:10.800Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:28:10.802Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:28:10.803Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:28:10.862Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:28:10.869Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:28:10.880Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:28:10.884Z][QUERY]: COMMIT
[2020-07-21T14:28:10.907Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:28:10.912Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:28:10.920Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:10.927Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:10.938Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:28:10.942Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:28:10.947Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:28:10.950Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:28:10.957Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:28:10.960Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:28:10.967Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:10.969Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:10.978Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:28:13.255Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:13.260Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:13.284Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:13.286Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:48.282Z][QUERY]: START TRANSACTION
[2020-07-21T14:28:48.288Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:28:48.293Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:28:48.294Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:28:48.296Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:28:48.297Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:28:48.298Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:28:48.301Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:28:48.356Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:28:48.363Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:28:48.380Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:28:48.384Z][QUERY]: COMMIT
[2020-07-21T14:28:48.412Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:28:48.424Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:28:48.430Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:48.441Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:48.448Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:28:48.456Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:28:48.460Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:28:48.463Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:28:48.467Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:28:48.471Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:28:48.479Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:48.483Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:28:48.491Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:28:51.008Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:51.016Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:51.045Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:28:51.047Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:29:22.992Z][QUERY]: START TRANSACTION
[2020-07-21T14:29:23.007Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:29:23.046Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:29:23.050Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:29:23.051Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:29:23.053Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:29:23.054Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:29:23.055Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:29:23.124Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:29:23.133Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:29:23.168Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:29:23.174Z][QUERY]: COMMIT
[2020-07-21T14:29:23.199Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:29:23.208Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:29:23.219Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:29:23.227Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:29:23.237Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:29:23.251Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:29:23.271Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:29:23.276Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:29:23.280Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:29:23.285Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:29:23.296Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:29:23.300Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:29:23.310Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:29:28.916Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:29:28.929Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:29:28.975Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:29:28.981Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:30:46.922Z][QUERY]: START TRANSACTION
[2020-07-21T14:30:46.927Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:30:46.931Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:30:46.933Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:30:46.935Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:30:46.936Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:30:46.937Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:30:46.938Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:30:46.979Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:30:46.986Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:30:47.001Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:30:47.006Z][QUERY]: COMMIT
[2020-07-21T14:30:47.191Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:30:47.204Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:30:47.235Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:30:47.249Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:30:47.268Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:30:47.290Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:30:47.294Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:30:47.298Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:30:47.301Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:30:47.305Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:30:47.315Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:30:47.326Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:30:47.334Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:31:12.949Z][QUERY]: START TRANSACTION
[2020-07-21T14:31:12.952Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:31:12.956Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:31:12.958Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:31:12.961Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:31:12.962Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:31:12.963Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:31:12.964Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:31:13.000Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:31:13.006Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:31:13.019Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:31:13.022Z][QUERY]: COMMIT
[2020-07-21T14:31:13.194Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:31:13.199Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:31:13.205Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:31:13.214Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:31:13.221Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:31:13.226Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:31:13.230Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:31:13.234Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:31:13.237Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:31:13.242Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:31:13.251Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:31:13.254Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:31:13.263Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:32:00.242Z][QUERY]: START TRANSACTION
[2020-07-21T14:32:00.246Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:32:00.251Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:32:00.252Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:32:00.254Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:32:00.256Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:32:00.257Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:32:00.258Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:32:00.301Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:32:00.309Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:32:00.323Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:32:00.327Z][QUERY]: COMMIT
[2020-07-21T14:32:00.508Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:32:00.512Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:32:00.517Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:32:00.524Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:32:00.530Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:32:00.534Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:32:00.538Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:32:00.542Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:32:00.545Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:32:00.548Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:32:00.557Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:32:00.560Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:32:00.566Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:33:28.315Z][QUERY]: START TRANSACTION
[2020-07-21T14:33:28.319Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:33:28.322Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:33:28.323Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:33:28.325Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:33:28.326Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:33:28.327Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:33:28.328Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:33:28.361Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:33:28.366Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:33:28.380Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:33:28.383Z][QUERY]: COMMIT
[2020-07-21T14:33:28.664Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:33:28.680Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:33:28.686Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:33:28.701Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:33:28.715Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:33:28.720Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:33:28.725Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:33:28.733Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:33:28.739Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:33:28.743Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:33:28.751Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:33:28.758Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:33:28.766Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:36:49.009Z][QUERY]: START TRANSACTION
[2020-07-21T14:36:49.016Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:36:49.021Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:36:49.023Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:36:49.025Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:36:49.026Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:36:49.027Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:36:49.029Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:36:49.084Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:36:49.100Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:36:49.113Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:36:49.120Z][QUERY]: COMMIT
[2020-07-21T14:36:49.142Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:36:49.147Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:36:49.155Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:36:49.162Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:36:49.170Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:36:49.175Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:36:49.179Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:36:49.186Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:36:49.191Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:36:49.194Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:36:49.202Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:36:49.206Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:36:49.213Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:36:51.786Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:36:51.816Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:36:51.888Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:36:51.891Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:38:08.024Z][QUERY]: START TRANSACTION
[2020-07-21T14:38:08.028Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:38:08.033Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:38:08.034Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:38:08.036Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:38:08.038Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:38:08.039Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:38:08.041Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:38:08.093Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:38:08.100Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:38:08.132Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:38:08.140Z][QUERY]: COMMIT
[2020-07-21T14:38:08.160Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:38:08.166Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:38:08.173Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:38:08.181Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:38:08.190Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:38:08.197Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:38:08.203Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:38:08.207Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:38:08.213Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:38:08.217Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:38:08.229Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:38:08.233Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:38:08.240Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:38:13.347Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:38:13.353Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:38:13.389Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:38:13.391Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:12.143Z][QUERY]: START TRANSACTION
[2020-07-21T14:49:12.153Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:49:12.161Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:49:12.165Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:49:12.169Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:49:12.171Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:49:12.175Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:49:12.177Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:49:12.267Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:49:12.289Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:49:12.314Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:49:12.321Z][QUERY]: COMMIT
[2020-07-21T14:49:12.364Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:49:12.383Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:49:12.401Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:12.409Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:12.419Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:49:12.424Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:49:12.428Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:49:12.432Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:49:12.436Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:49:12.440Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:49:12.449Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:12.453Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:12.460Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:49:21.431Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:21.437Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:21.467Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:21.469Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:37.485Z][QUERY]: START TRANSACTION
[2020-07-21T14:49:37.489Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:49:37.495Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:49:37.498Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:49:37.503Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:49:37.504Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:49:37.506Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:49:37.507Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:49:37.579Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:49:37.608Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:49:37.624Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:49:37.632Z][QUERY]: COMMIT
[2020-07-21T14:49:37.684Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:49:37.690Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:49:37.705Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:37.716Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:37.725Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:49:37.737Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:49:37.746Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:49:37.803Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:49:37.824Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:49:37.902Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:49:37.921Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:37.964Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:37.996Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:49:40.987Z][QUERY]: START TRANSACTION
[2020-07-21T14:49:40.991Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-21T14:49:40.995Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:49:40.996Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-21T14:49:40.998Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-21T14:49:40.999Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-21T14:49:41.001Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-21T14:49:41.002Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-21T14:49:41.047Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-21T14:49:41.054Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-21T14:49:41.072Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-21T14:49:41.076Z][QUERY]: COMMIT
[2020-07-21T14:49:41.098Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-21T14:49:41.104Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-21T14:49:41.111Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:41.119Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:41.127Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:49:41.132Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-21T14:49:41.137Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-21T14:49:41.140Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-21T14:49:41.145Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-21T14:49:41.148Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-21T14:49:41.158Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:41.167Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-21T14:49:41.178Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-21T14:49:43.409Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:43.415Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:43.470Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-21T14:49:43.472Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:40:48.187Z][QUERY]: START TRANSACTION
[2020-07-22T13:40:48.201Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T13:40:48.204Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:40:48.206Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:40:48.207Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T13:40:48.208Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T13:40:48.209Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T13:40:48.210Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T13:40:48.288Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T13:40:48.294Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T13:40:48.309Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T13:40:48.313Z][QUERY]: COMMIT
[2020-07-22T13:40:48.332Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T13:40:48.337Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T13:40:48.345Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:40:48.353Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:40:48.360Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:40:48.364Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T13:40:48.368Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T13:40:48.371Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T13:40:48.375Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T13:40:48.379Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T13:40:48.386Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:40:48.389Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:40:48.396Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:43:32.103Z][QUERY]: START TRANSACTION
[2020-07-22T13:43:32.107Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T13:43:32.110Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:43:32.111Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:43:32.112Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T13:43:32.113Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T13:43:32.114Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T13:43:32.115Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T13:43:32.149Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T13:43:32.160Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T13:43:32.170Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T13:43:32.173Z][QUERY]: COMMIT
[2020-07-22T13:43:32.192Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T13:43:32.196Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T13:43:32.203Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:32.212Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:32.220Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:43:32.223Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T13:43:32.227Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T13:43:32.230Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T13:43:32.233Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T13:43:32.237Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T13:43:32.244Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:32.247Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:32.253Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:43:52.736Z][QUERY]: START TRANSACTION
[2020-07-22T13:43:52.740Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T13:43:52.743Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:43:52.745Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:43:52.746Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T13:43:52.747Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T13:43:52.748Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T13:43:52.749Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T13:43:52.807Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T13:43:52.846Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T13:43:52.870Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T13:43:52.876Z][QUERY]: COMMIT
[2020-07-22T13:43:52.899Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T13:43:52.907Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T13:43:52.915Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:52.925Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:52.936Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:43:52.942Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T13:43:52.948Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T13:43:52.951Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T13:43:52.954Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T13:43:52.957Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T13:43:52.965Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:52.968Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:43:52.975Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:44:48.715Z][QUERY]: START TRANSACTION
[2020-07-22T13:44:48.719Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T13:44:48.723Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:44:48.724Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:44:48.726Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T13:44:48.728Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T13:44:48.729Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T13:44:48.730Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T13:44:48.771Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T13:44:48.784Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T13:44:48.796Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T13:44:48.800Z][QUERY]: COMMIT
[2020-07-22T13:44:48.820Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T13:44:48.824Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T13:44:48.831Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:44:48.839Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:44:48.847Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:44:48.850Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T13:44:48.854Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T13:44:48.857Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T13:44:48.861Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T13:44:48.866Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T13:44:48.874Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:44:48.878Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:44:48.897Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:47:00.445Z][QUERY]: START TRANSACTION
[2020-07-22T13:47:00.452Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T13:47:00.456Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:47:00.458Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T13:47:00.459Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T13:47:00.460Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T13:47:00.462Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T13:47:00.463Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T13:47:00.513Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T13:47:00.522Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T13:47:00.542Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T13:47:00.545Z][QUERY]: COMMIT
[2020-07-22T13:47:00.565Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T13:47:00.572Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T13:47:00.578Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:47:00.585Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:47:00.596Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:47:00.604Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T13:47:00.611Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T13:47:00.618Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T13:47:00.622Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T13:47:00.625Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T13:47:00.634Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:47:00.637Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T13:47:00.644Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T13:48:36.518Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:48:36.539Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:48:36.604Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:48:37.101Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:55:22.655Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:55:22.667Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:55:23.026Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T13:55:23.037Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:05:40.426Z][QUERY]: START TRANSACTION
[2020-07-22T14:05:40.430Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:05:40.436Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:05:40.437Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:05:40.438Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:05:40.440Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:05:40.441Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:05:40.442Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:05:40.486Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:05:40.492Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:05:40.511Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:05:40.515Z][QUERY]: COMMIT
[2020-07-22T14:05:40.538Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:05:40.544Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:05:40.551Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:05:40.558Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:05:40.564Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:05:40.572Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:05:40.576Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:05:40.579Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:05:40.584Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:05:40.589Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:05:40.596Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:05:40.598Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:05:40.608Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:05:45.194Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:05:45.212Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:05:45.268Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:05:45.270Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:06:39.876Z][QUERY]: START TRANSACTION
[2020-07-22T14:06:39.883Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:06:39.887Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:06:39.888Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:06:39.890Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:06:39.891Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:06:39.892Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:06:39.893Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:06:39.937Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:06:39.951Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:06:39.963Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:06:39.967Z][QUERY]: COMMIT
[2020-07-22T14:06:39.992Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:06:39.999Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:06:40.006Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:06:40.012Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:06:40.022Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:06:40.026Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:06:40.033Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:06:40.038Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:06:40.041Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:06:40.044Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:06:40.053Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:06:40.057Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:06:40.065Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:06:42.822Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:06:42.827Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:06:42.857Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:06:42.859Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:07:50.162Z][QUERY]: START TRANSACTION
[2020-07-22T14:07:50.169Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:07:50.173Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:07:50.177Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:07:50.179Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:07:50.180Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:07:50.181Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:07:50.183Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:07:50.229Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:07:50.235Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:07:50.255Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:07:50.261Z][QUERY]: COMMIT
[2020-07-22T14:07:50.283Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:07:50.287Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:07:50.296Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:07:50.302Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:07:50.313Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:07:50.317Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:07:50.321Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:07:50.328Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:07:50.332Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:07:50.335Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:07:50.346Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:07:50.349Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:07:50.356Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:07:55.842Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:07:55.869Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:07:55.935Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:07:55.938Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:09:59.694Z][QUERY]: START TRANSACTION
[2020-07-22T14:09:59.700Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:09:59.704Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:09:59.705Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:09:59.706Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:09:59.708Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:09:59.709Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:09:59.710Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:09:59.755Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:09:59.769Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:09:59.779Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:09:59.784Z][QUERY]: COMMIT
[2020-07-22T14:09:59.804Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:09:59.809Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:09:59.816Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:09:59.824Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:09:59.834Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:09:59.838Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:09:59.842Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:09:59.845Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:09:59.851Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:09:59.855Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:09:59.862Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:09:59.868Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:09:59.874Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:10:02.929Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:10:02.939Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:10:02.972Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:10:02.974Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:14:46.349Z][QUERY]: START TRANSACTION
[2020-07-22T14:14:46.354Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:14:46.361Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:14:46.365Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:14:46.367Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:14:46.368Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:14:46.370Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:14:46.371Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:14:46.418Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:14:46.427Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:14:46.449Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:14:46.453Z][QUERY]: COMMIT
[2020-07-22T14:14:46.476Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:14:46.484Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:14:46.494Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:14:46.503Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:14:46.514Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:14:46.519Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:14:46.523Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:14:46.528Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:14:46.535Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:14:46.539Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:14:46.551Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:14:46.554Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:14:46.564Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:14:48.906Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:14:48.914Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:14:48.956Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:14:48.958Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:18:34.906Z][QUERY]: START TRANSACTION
[2020-07-22T14:18:34.912Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:18:34.915Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:18:34.917Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:18:34.918Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:18:34.920Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:18:34.921Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:18:34.922Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:18:34.969Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:18:34.984Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:18:34.995Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:18:34.999Z][QUERY]: COMMIT
[2020-07-22T14:18:35.020Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:18:35.025Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:18:35.038Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:18:35.048Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:18:35.055Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:18:35.065Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:18:35.069Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:18:35.072Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:18:35.075Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:18:35.080Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:18:35.088Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:18:35.091Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:18:35.099Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:18:38.219Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:18:38.224Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:18:38.289Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:18:38.291Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:21:19.634Z][QUERY]: START TRANSACTION
[2020-07-22T14:21:19.639Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:21:19.642Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:21:19.644Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:21:19.645Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:21:19.646Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:21:19.650Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:21:19.651Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:21:19.693Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:21:19.703Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:21:19.725Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:21:19.729Z][QUERY]: COMMIT
[2020-07-22T14:21:19.751Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:21:19.756Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:21:19.762Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:21:19.771Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:21:19.779Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:21:19.787Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:21:19.790Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:21:19.793Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:21:19.796Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:21:19.802Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:21:19.810Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:21:19.812Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:21:19.821Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:23:40.007Z][QUERY]: START TRANSACTION
[2020-07-22T14:23:40.012Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:23:40.015Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:23:40.016Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:23:40.018Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:23:40.019Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:23:40.022Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:23:40.023Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:23:40.060Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:23:40.066Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:23:40.086Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:23:40.091Z][QUERY]: COMMIT
[2020-07-22T14:23:40.111Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:23:40.116Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:23:40.122Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:23:40.130Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:23:40.139Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:23:40.145Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:23:40.150Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:23:40.156Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:23:40.161Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:23:40.164Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:23:40.171Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:23:40.175Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:23:40.181Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:24:16.594Z][QUERY]: START TRANSACTION
[2020-07-22T14:24:16.598Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:24:16.603Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:24:16.604Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:24:16.606Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:24:16.607Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:24:16.609Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:24:16.610Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:24:16.648Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:24:16.655Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:24:16.675Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:24:16.679Z][QUERY]: COMMIT
[2020-07-22T14:24:16.698Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:24:16.703Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:24:16.711Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:24:16.720Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:24:16.727Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:24:16.731Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:24:16.738Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:24:16.742Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:24:16.745Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:24:16.749Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:24:16.763Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:24:16.766Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:24:16.775Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:26:12.821Z][QUERY]: START TRANSACTION
[2020-07-22T14:26:12.837Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:26:12.852Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:26:12.854Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:26:12.858Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:26:12.867Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:26:12.880Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:26:12.884Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:26:13.002Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:26:13.015Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:26:13.044Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:26:13.051Z][QUERY]: COMMIT
[2020-07-22T14:26:13.085Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:26:13.100Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:26:13.118Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:26:13.137Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:26:13.148Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:26:13.153Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:26:13.157Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:26:13.165Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:26:13.170Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:26:13.173Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:26:13.187Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:26:13.190Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:26:13.205Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:34:26.712Z][QUERY]: START TRANSACTION
[2020-07-22T14:34:26.717Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:34:26.721Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:34:26.727Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:34:26.729Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:34:26.731Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:34:26.733Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:34:26.736Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:34:26.787Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:34:26.802Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:34:26.818Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:34:26.822Z][QUERY]: COMMIT
[2020-07-22T14:34:26.845Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:34:26.851Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:34:26.857Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:26.865Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:26.876Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:34:26.880Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:34:26.884Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:34:26.887Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:34:26.893Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:34:26.897Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:34:26.906Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:26.914Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:26.935Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:34:47.747Z][QUERY]: START TRANSACTION
[2020-07-22T14:34:47.751Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:34:47.755Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:34:47.757Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:34:47.759Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:34:47.761Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:34:47.769Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:34:47.779Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:34:47.823Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:34:47.828Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:34:47.845Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:34:47.849Z][QUERY]: COMMIT
[2020-07-22T14:34:47.867Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:34:47.871Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:34:47.878Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:47.884Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:47.891Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:34:47.895Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:34:47.898Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:34:47.902Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:34:47.905Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:34:47.909Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:34:47.919Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:47.923Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:34:47.930Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:35:21.179Z][QUERY]: START TRANSACTION
[2020-07-22T14:35:21.183Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:35:21.186Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:35:21.188Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:35:21.190Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:35:21.191Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:35:21.192Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:35:21.193Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:35:21.231Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:35:21.238Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:35:21.256Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:35:21.260Z][QUERY]: COMMIT
[2020-07-22T14:35:21.278Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:35:21.282Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:35:21.288Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:35:21.295Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:35:21.301Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:35:21.306Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:35:21.310Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:35:21.314Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:35:21.317Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:35:21.320Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:35:21.328Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:35:21.331Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:35:21.338Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:38:51.464Z][QUERY]: START TRANSACTION
[2020-07-22T14:38:51.469Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:38:51.472Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:38:51.473Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:38:51.475Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:38:51.476Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:38:51.477Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:38:51.478Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:38:51.513Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:38:51.524Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:38:51.537Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:38:51.542Z][QUERY]: COMMIT
[2020-07-22T14:38:51.562Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:38:51.566Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:38:51.572Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:38:51.582Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:38:51.595Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:38:51.599Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:38:51.603Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:38:51.606Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:38:51.610Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:38:51.613Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:38:51.621Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:38:51.624Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:38:51.630Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:30.596Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:30.607Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:30.614Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:30.616Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:30.618Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:30.620Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:30.621Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:30.623Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:30.672Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:30.677Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:30.695Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:30.699Z][QUERY]: COMMIT
[2020-07-22T14:40:30.751Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:40:30.766Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:40:30.776Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:30.797Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:30.808Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:30.816Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:40:30.827Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:40:30.834Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:40:30.839Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:40:30.843Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:40:30.863Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:30.866Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:30.878Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:34.769Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:34.774Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:34.779Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:34.780Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:34.782Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:34.783Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:34.785Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:34.786Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:34.839Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:34.847Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:34.867Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:34.874Z][QUERY]: COMMIT
[2020-07-22T14:40:34.916Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:40:34.921Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:40:34.927Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:34.935Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:34.943Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:34.950Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:40:34.955Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:40:34.959Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:40:34.965Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:40:34.968Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:40:34.975Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:34.978Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:34.988Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:39.813Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:39.817Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:39.821Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:39.822Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:39.823Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:39.824Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:39.825Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:39.826Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:39.869Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:39.878Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:39.906Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:39.910Z][QUERY]: COMMIT
[2020-07-22T14:40:42.256Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:42.260Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:42.264Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:42.266Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:42.267Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:42.269Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:42.270Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:42.271Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:42.313Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:42.320Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:42.342Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:42.346Z][QUERY]: COMMIT
[2020-07-22T14:40:42.363Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:40:42.369Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:40:42.374Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:42.381Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:42.390Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:42.395Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:40:42.401Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:40:42.404Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:40:42.407Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:40:42.410Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:40:42.421Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:42.424Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:42.432Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:46.069Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:46.074Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:46.078Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:46.082Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:46.084Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:46.085Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:46.086Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:46.087Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:46.135Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:46.149Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:46.165Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:46.170Z][QUERY]: COMMIT
[2020-07-22T14:40:46.198Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:40:46.204Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:40:46.216Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:46.229Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:46.242Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:46.251Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:40:46.255Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:40:46.258Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:40:46.262Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:40:46.267Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:40:46.275Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:46.277Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:46.287Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:49.895Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:49.900Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:49.904Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:49.906Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:49.907Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:49.908Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:49.909Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:49.910Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:49.956Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:49.963Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:50.007Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:50.013Z][QUERY]: COMMIT
[2020-07-22T14:40:50.035Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:40:50.040Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:40:50.047Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:50.057Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:50.066Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:50.070Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:40:50.073Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:40:50.076Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:40:50.080Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:40:50.083Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:40:50.092Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:50.095Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:50.103Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:53.583Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:53.588Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:53.593Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:53.594Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:53.596Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:53.598Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:53.600Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:53.601Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:53.644Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:53.652Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:53.670Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:53.673Z][QUERY]: COMMIT
[2020-07-22T14:40:53.693Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:40:53.698Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:40:53.705Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:53.711Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:53.722Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:53.726Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:40:53.730Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:40:53.733Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:40:53.736Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:40:53.740Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:40:53.754Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:53.759Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:53.770Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:57.061Z][QUERY]: START TRANSACTION
[2020-07-22T14:40:57.065Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:40:57.069Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:57.070Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:40:57.071Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:40:57.073Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:40:57.074Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:40:57.075Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:40:57.109Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:40:57.115Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:40:57.131Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:40:57.135Z][QUERY]: COMMIT
[2020-07-22T14:40:57.155Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:40:57.159Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:40:57.165Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:57.172Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:57.179Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:40:57.184Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:40:57.188Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:40:57.193Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:40:57.197Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:40:57.202Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:40:57.211Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:57.215Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:40:57.223Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:41:04.501Z][QUERY]: START TRANSACTION
[2020-07-22T14:41:04.505Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:41:04.509Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:41:04.510Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:41:04.511Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:41:04.512Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:41:04.513Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:41:04.514Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:41:04.549Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:41:04.566Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:41:04.577Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:41:04.581Z][QUERY]: COMMIT
[2020-07-22T14:41:04.600Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:41:04.606Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:41:04.612Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:41:04.619Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:41:04.629Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:41:04.634Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:41:04.637Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:41:04.640Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:41:04.643Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:41:04.647Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:41:04.654Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:41:04.657Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:41:04.664Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:43:11.613Z][QUERY]: START TRANSACTION
[2020-07-22T14:43:11.618Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:43:11.622Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:43:11.624Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:43:11.625Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:43:11.626Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:43:11.627Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:43:11.628Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:43:11.672Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:43:11.678Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:43:11.694Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:43:11.698Z][QUERY]: COMMIT
[2020-07-22T14:43:11.714Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:43:11.718Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:43:11.725Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:43:11.731Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:43:11.740Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:43:11.745Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:43:11.749Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:43:11.753Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:43:11.757Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:43:11.761Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:43:11.770Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:43:11.773Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:43:11.779Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:44:10.056Z][QUERY]: START TRANSACTION
[2020-07-22T14:44:10.061Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:44:10.065Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:44:10.067Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:44:10.068Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:44:10.069Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:44:10.070Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:44:10.071Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:44:10.118Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:44:10.124Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:44:10.145Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:44:10.150Z][QUERY]: COMMIT
[2020-07-22T14:44:10.168Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:44:10.174Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:44:10.180Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:44:10.187Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:44:10.196Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:44:10.201Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:44:10.206Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:44:10.209Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:44:10.214Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:44:10.219Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:44:10.226Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:44:10.229Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:44:10.237Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:45:25.595Z][QUERY]: START TRANSACTION
[2020-07-22T14:45:25.599Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:45:25.602Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:45:25.603Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:45:25.605Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:45:25.606Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:45:25.607Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:45:25.608Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:45:25.648Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:45:25.655Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:45:25.672Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:45:25.676Z][QUERY]: COMMIT
[2020-07-22T14:45:25.693Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:45:25.698Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:45:25.703Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:45:25.708Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:45:25.716Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:45:25.720Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:45:25.724Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:45:25.728Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:45:25.731Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:45:25.734Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:45:25.743Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:45:25.746Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:45:25.756Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:56:28.909Z][QUERY]: START TRANSACTION
[2020-07-22T14:56:28.914Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:56:28.917Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:56:28.919Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:56:28.920Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:56:28.921Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:56:28.923Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:56:28.924Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:56:28.959Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:56:28.965Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:56:28.982Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:56:28.985Z][QUERY]: COMMIT
[2020-07-22T14:56:29.004Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:56:29.008Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:56:29.015Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:56:29.022Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:56:29.029Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:56:29.033Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:56:29.037Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:56:29.040Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:56:29.043Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:56:29.047Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:56:29.054Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:56:29.057Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:56:29.064Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:57:24.274Z][QUERY]: START TRANSACTION
[2020-07-22T14:57:24.278Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-07-22T14:57:24.282Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:57:24.283Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-07-22T14:57:24.285Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'device_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-07-22T14:57:24.286Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-07-22T14:57:24.287Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'device_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-07-22T14:57:24.288Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'device_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-07-22T14:57:24.325Z][QUERY]: SELECT VERSION() AS `version`
[2020-07-22T14:57:24.331Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-07-22T14:57:24.348Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-07-22T14:57:24.352Z][QUERY]: COMMIT
[2020-07-22T14:57:24.369Z][QUERY]: SELECT COUNT(DISTINCT(`RoomType`.`id`)) as "cnt" FROM `room_type` `RoomType`
[2020-07-22T14:57:24.375Z][QUERY]: SELECT COUNT(DISTINCT(`RoomList`.`id`)) as "cnt" FROM `room_list` `RoomList`
[2020-07-22T14:57:24.385Z][QUERY]: SELECT COUNT(DISTINCT(`Esp`.`id`)) as "cnt" FROM `esp` `Esp` WHERE `Esp`.`name` = ? -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:57:24.392Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi` FROM `esp` `Esp` WHERE `Esp`.`name` = ? LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:57:24.399Z][QUERY]: SELECT COUNT(DISTINCT(`EspPin`.`id`)) as "cnt" FROM `esp_pin` `EspPin` WHERE `EspPin`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:57:24.403Z][QUERY]: SELECT COUNT(DISTINCT(`DeviceType`.`id`)) as "cnt" FROM `device_type` `DeviceType`
[2020-07-22T14:57:24.407Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId` FROM `room_list` `RoomList` WHERE `RoomList`.`name` = ? LIMIT 1 -- PARAMETERS: ["Phòng khách"]
[2020-07-22T14:57:24.412Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [1]
[2020-07-22T14:57:24.415Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [2]
[2020-07-22T14:57:24.419Z][QUERY]: SELECT `DeviceType`.`id` AS `DeviceType_id`, `DeviceType`.`name` AS `DeviceType_name`, `DeviceType`.`nsp` AS `DeviceType_nsp`, `DeviceType`.`type` AS `DeviceType_type` FROM `device_type` `DeviceType` WHERE `DeviceType`.`type` = ? LIMIT 1 -- PARAMETERS: [3]
[2020-07-22T14:57:24.429Z][QUERY]: SELECT DISTINCT `distinctAlias`.`Esp_id` as "ids_Esp_id" FROM (SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE `Esp`.`name` = ?) `distinctAlias` ORDER BY `Esp_id` ASC LIMIT 1 -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:57:24.432Z][QUERY]: SELECT `Esp`.`id` AS `Esp_id`, `Esp`.`name` AS `Esp_name`, `Esp`.`online` AS `Esp_online`, `Esp`.`auth` AS `Esp_auth`, `Esp`.`detail_rssi` AS `Esp_detail_rssi`, `Esp__pins`.`id` AS `Esp__pins_id`, `Esp__pins`.`name` AS `Esp__pins_name`, `Esp__pins`.`input` AS `Esp__pins_input`, `Esp__pins`.`outputType` AS `Esp__pins_outputType`, `Esp__pins`.`outputPrimary` AS `Esp__pins_outputPrimary`, `Esp__pins`.`ouputSecondary` AS `Esp__pins_ouputSecondary`, `Esp__pins`.`dualToggleCount` AS `Esp__pins_dualToggleCount`, `Esp__pins`.`statusCloud` AS `Esp__pins_statusCloud`, `Esp__pins`.`status` AS `Esp__pins_status`, `Esp__pins`.`espId` AS `Esp__pins_espId` FROM `esp` `Esp` LEFT JOIN `esp_pin` `Esp__pins` ON `Esp__pins`.`espId`=`Esp`.`id` WHERE (`Esp`.`name` = ?) AND `Esp`.`id` IN (1) -- PARAMETERS: ["ESP1N403E91636RSC185G2K"]
[2020-07-22T14:57:24.442Z][QUERY]: SELECT COUNT(DISTINCT(`RoomDevice`.`id`)) as "cnt" FROM `room_device` `RoomDevice` WHERE `RoomDevice`.`espId` = ? -- PARAMETERS: [1]
[2020-07-22T14:57:27.749Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:57:27.752Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:57:27.794Z][QUERY]: SELECT `RoomType`.`id` AS `RoomType_id`, `RoomType`.`name` AS `RoomType_name`, `RoomType`.`type` AS `RoomType_type`, `RoomType`.`enable` AS `RoomType_enable` FROM `room_type` `RoomType` WHERE `RoomType`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T14:57:27.796Z][QUERY]: SELECT `RoomList`.`id` AS `RoomList_id`, `RoomList`.`name` AS `RoomList_name`, `RoomList`.`enable` AS `RoomList_enable`, `RoomList`.`typeId` AS `RoomList_typeId`, `RoomList__type`.`id` AS `RoomList__type_id`, `RoomList__type`.`name` AS `RoomList__type_name`, `RoomList__type`.`type` AS `RoomList__type_type`, `RoomList__type`.`enable` AS `RoomList__type_enable`, `RoomList__devices`.`id` AS `RoomList__devices_id`, `RoomList__devices`.`name` AS `RoomList__devices_name`, `RoomList__devices`.`descriptor` AS `RoomList__devices_descriptor`, `RoomList__devices`.`widget` AS `RoomList__devices_widget`, `RoomList__devices`.`typeId` AS `RoomList__devices_typeId`, `RoomList__devices`.`pinId` AS `RoomList__devices_pinId`, `RoomList__devices`.`espId` AS `RoomList__devices_espId`, `RoomList__devices`.`roomId` AS `RoomList__devices_roomId` FROM `room_list` `RoomList` LEFT JOIN `room_type` `RoomList__type` ON `RoomList__type`.`id`=`RoomList`.`typeId`  LEFT JOIN `room_device` `RoomList__devices` ON `RoomList__devices`.`roomId`=`RoomList`.`id` WHERE `RoomList`.`enable` = ? -- PARAMETERS: [true]
[2020-07-22T15:01:44.049Z][QUERY]: SELECT `RoomDevice`.`id` AS `RoomDevice_id`, `RoomDevice`.`name` AS `RoomDevice_name`, `RoomDevice`.`descriptor` AS `RoomDevice_descriptor`, `RoomDevice`.`widget` AS `RoomDevice_widget`, `RoomDevice`.`typeId` AS `RoomDevice_typeId`, `RoomDevice`.`pinId` AS `RoomDevice_pinId`, `RoomDevice`.`espId` AS `RoomDevice_espId`, `RoomDevice`.`roomId` AS `RoomDevice_roomId`, `RoomDevice__esp`.`id` AS `RoomDevice__esp_id`, `RoomDevice__esp`.`name` AS `RoomDevice__esp_name`, `RoomDevice__esp`.`online` AS `RoomDevice__esp_online`, `RoomDevice__esp`.`auth` AS `RoomDevice__esp_auth`, `RoomDevice__esp`.`detail_rssi` AS `RoomDevice__esp_detail_rssi`, `RoomDevice__pin`.`id` AS `RoomDevice__pin_id`, `RoomDevice__pin`.`name` AS `RoomDevice__pin_name`, `RoomDevice__pin`.`input` AS `RoomDevice__pin_input`, `RoomDevice__pin`.`outputType` AS `RoomDevice__pin_outputType`, `RoomDevice__pin`.`outputPrimary` AS `RoomDevice__pin_outputPrimary`, `RoomDevice__pin`.`ouputSecondary` AS `RoomDevice__pin_ouputSecondary`, `RoomDevice__pin`.`dualToggleCount` AS `RoomDevice__pin_dualToggleCount`, `RoomDevice__pin`.`statusCloud` AS `RoomDevice__pin_statusCloud`, `RoomDevice__pin`.`status` AS `RoomDevice__pin_status`, `RoomDevice__pin`.`espId` AS `RoomDevice__pin_espId`, `RoomDevice__room`.`id` AS `RoomDevice__room_id`, `RoomDevice__room`.`name` AS `RoomDevice__room_name`, `RoomDevice__room`.`enable` AS `RoomDevice__room_enable`, `RoomDevice__room`.`typeId` AS `RoomDevice__room_typeId`, `RoomDevice__type`.`id` AS `RoomDevice__type_id`, `RoomDevice__type`.`name` AS `RoomDevice__type_name`, `RoomDevice__type`.`nsp` AS `RoomDevice__type_nsp`, `RoomDevice__type`.`type` AS `RoomDevice__type_type` FROM `room_device` `RoomDevice` LEFT JOIN `esp` `RoomDevice__esp` ON `RoomDevice__esp`.`id`=`RoomDevice`.`espId`  LEFT JOIN `esp_pin` `RoomDevice__pin` ON `RoomDevice__pin`.`id`=`RoomDevice`.`pinId`  LEFT JOIN `room_list` `RoomDevice__room` ON `RoomDevice__room`.`id`=`RoomDevice`.`roomId`  LEFT JOIN `device_type` `RoomDevice__type` ON `RoomDevice__type`.`id`=`RoomDevice`.`typeId` WHERE `RoomDevice`.`roomId` = ? -- PARAMETERS: [1]
