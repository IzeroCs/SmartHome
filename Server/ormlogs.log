[2020-06-28T15:27:43.078Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'migrations'
[2020-06-28T15:27:43.087Z][QUERY]: SELECT * FROM `smarthome`.`migrations` `migrations` ORDER BY `id` DESC
[2020-06-28T16:42:09.258Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'migrations'
[2020-06-28T16:42:09.267Z][QUERY]: SELECT * FROM `smarthome`.`migrations` `migrations` ORDER BY `id` DESC
[2020-06-28T16:42:41.955Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'migrations'
[2020-06-28T16:42:41.968Z][QUERY]: SELECT * FROM `smarthome`.`migrations` `migrations` ORDER BY `id` DESC
[2020-06-28T17:27:40.710Z][QUERY]: START TRANSACTION
[2020-06-28T17:27:40.714Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T17:27:40.718Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:27:40.719Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:27:40.720Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp'))
[2020-06-28T17:27:40.722Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T17:27:40.723Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T17:27:40.724Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp')
[2020-06-28T17:27:40.787Z][QUERY]: SELECT VERSION() AS `version`
[2020-06-28T17:27:40.791Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T17:27:40.803Z][QUERY]: ALTER TABLE `esp` DROP COLUMN `name`
[2020-06-28T17:27:40.973Z][QUERY]: ALTER TABLE `esp` ADD `name` varchar(255) NOT NULL
[2020-06-28T17:27:41.011Z][QUERY]: ALTER TABLE `esp` CHANGE `online` `online` tinyint NOT NULL
[2020-06-28T17:27:41.057Z][QUERY]: ALTER TABLE `esp` CHANGE `auth` `auth` tinyint NOT NULL
[2020-06-28T17:27:41.078Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-06-28T17:27:41.082Z][QUERY]: COMMIT
[2020-06-28T17:27:56.529Z][QUERY]: START TRANSACTION
[2020-06-28T17:27:56.534Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T17:27:56.537Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:27:56.539Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:27:56.540Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp'))
[2020-06-28T17:27:56.542Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T17:27:56.543Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T17:27:56.544Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp')
[2020-06-28T17:27:56.577Z][QUERY]: SELECT VERSION() AS `version`
[2020-06-28T17:27:56.583Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T17:27:56.592Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-06-28T17:27:56.596Z][QUERY]: COMMIT
[2020-06-28T17:28:38.923Z][QUERY]: START TRANSACTION
[2020-06-28T17:28:38.927Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T17:28:38.930Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:28:38.932Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:28:38.933Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp'))
[2020-06-28T17:28:38.934Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T17:28:38.935Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T17:28:38.936Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp')
[2020-06-28T17:28:38.966Z][QUERY]: SELECT VERSION() AS `version`
[2020-06-28T17:28:38.970Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T17:28:38.978Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-06-28T17:28:38.982Z][QUERY]: COMMIT
[2020-06-28T17:29:11.258Z][QUERY]: START TRANSACTION
[2020-06-28T17:29:11.262Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T17:29:11.265Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:29:11.267Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:29:11.268Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp'))
[2020-06-28T17:29:11.269Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T17:29:11.270Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T17:29:11.271Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp')
[2020-06-28T17:29:11.296Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T17:29:11.303Z][QUERY]: CREATE TABLE `esp` (`id` int NOT NULL AUTO_INCREMENT, `name` varchar(255) NOT NULL, `online` tinyint NOT NULL, `auth` tinyint NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB
[2020-06-28T17:29:11.394Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-06-28T17:29:11.398Z][QUERY]: CREATE TABLE `smarthome`.`query-result-cache` (`id` int NOT NULL AUTO_INCREMENT, `identifier` varchar(255) NULL, `time` bigint NOT NULL, `duration` int NOT NULL, `query` text NOT NULL, `result` text NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB
[2020-06-28T17:29:11.465Z][QUERY]: COMMIT
[2020-06-28T17:30:13.051Z][QUERY]: START TRANSACTION
[2020-06-28T17:30:13.057Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T17:30:13.061Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:30:13.062Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp')
[2020-06-28T17:30:13.064Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp'))
[2020-06-28T17:30:13.065Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T17:30:13.066Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T17:30:13.067Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp')
[2020-06-28T17:30:13.169Z][QUERY]: SELECT VERSION() AS `version`
[2020-06-28T17:30:13.182Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T17:30:13.195Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-06-28T17:30:13.200Z][QUERY]: COMMIT
[2020-06-28T17:47:42.534Z][QUERY]: START TRANSACTION
[2020-06-28T17:47:42.538Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T17:47:42.541Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-06-28T17:47:42.543Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-06-28T17:47:42.544Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-06-28T17:47:42.545Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T17:47:42.546Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T17:47:42.547Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-06-28T17:47:42.579Z][QUERY]: SELECT VERSION() AS `version`
[2020-06-28T17:47:42.582Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T17:47:42.589Z][QUERY]: CREATE TABLE `room_type` (`id` int NOT NULL AUTO_INCREMENT, `name` varchar(255) NOT NULL, `enable` tinyint NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB
[2020-06-28T17:47:42.657Z][QUERY]: CREATE TABLE `room_list` (`id` int NOT NULL AUTO_INCREMENT, `name` varchar(255) NOT NULL, `enable` tinyint NOT NULL, `typeId` int NULL, UNIQUE INDEX `REL_0ec73bc58ea4882e2405dd969b` (`typeId`), PRIMARY KEY (`id`)) ENGINE=InnoDB
[2020-06-28T17:47:42.767Z][QUERY]: CREATE TABLE `setting` (`id` int NOT NULL AUTO_INCREMENT, PRIMARY KEY (`id`)) ENGINE=InnoDB
[2020-06-28T17:47:42.834Z][QUERY]: ALTER TABLE `esp` ADD `pins` varchar(255) array NOT NULL
[2020-06-28T17:47:42.837Z][FAILED QUERY]: ALTER TABLE `esp` ADD `pins` varchar(255) array NOT NULL
[2020-06-28T17:47:42.837Z][QUERY ERROR]: Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'array NOT NULL' at line 1
[2020-06-28T17:47:42.839Z][QUERY]: ROLLBACK
[2020-06-28T17:47:45.891Z][QUERY]: START TRANSACTION
[2020-06-28T17:47:45.893Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T17:47:45.895Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-06-28T17:47:45.896Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-06-28T17:47:45.897Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-06-28T17:47:45.898Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T17:47:45.900Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T17:47:45.901Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-06-28T17:47:45.972Z][QUERY]: SELECT VERSION() AS `version`
[2020-06-28T17:47:45.975Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T17:47:45.979Z][QUERY]: ALTER TABLE `esp` ADD `pins` varchar(255) array NOT NULL
[2020-06-28T17:47:45.981Z][FAILED QUERY]: ALTER TABLE `esp` ADD `pins` varchar(255) array NOT NULL
[2020-06-28T17:47:45.981Z][QUERY ERROR]: Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'array NOT NULL' at line 1
[2020-06-28T17:47:45.983Z][QUERY]: ROLLBACK
[2020-06-28T18:10:42.309Z][QUERY]: START TRANSACTION
[2020-06-28T18:10:42.313Z][QUERY]: SELECT DATABASE() AS `db_name`
[2020-06-28T18:10:42.316Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-06-28T18:10:42.318Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting')
[2020-06-28T18:10:42.319Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ((`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'esp_pin') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_type') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_list') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'room_device') OR (`TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'setting'))
[2020-06-28T18:10:42.320Z][QUERY]: SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`
[2020-06-28T18:10:42.321Z][QUERY]: SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ((`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'esp_pin') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_type') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_list') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'room_device') OR (`s`.`TABLE_SCHEMA` = 'smarthome' AND `s`.`TABLE_NAME` = 'setting')) AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL
[2020-06-28T18:10:42.322Z][QUERY]: SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'esp_pin') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_type') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_list') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'room_device') OR (`kcu`.`TABLE_SCHEMA` = 'smarthome' AND `kcu`.`TABLE_NAME` = 'setting')
[2020-06-28T18:10:42.358Z][QUERY]: SELECT VERSION() AS `version`
[2020-06-28T18:10:42.362Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'typeorm_metadata'
[2020-06-28T18:10:42.367Z][QUERY]: DROP INDEX `REL_0ec73bc58ea4882e2405dd969b` ON `room_list`
[2020-06-28T18:10:42.415Z][QUERY]: CREATE TABLE `esp_pin` (`id` int NOT NULL AUTO_INCREMENT, `name` tinyint NOT NULL, `input` tinyint NOT NULL, `outputType` tinyint NOT NULL, `outputPrimary` tinyint NOT NULL, `ouputSecondary` tinyint NOT NULL, `dualToggleCount` tinyint NOT NULL, `status` tinyint NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB
[2020-06-28T18:10:42.543Z][QUERY]: CREATE TABLE `room_device` (`id` int NOT NULL AUTO_INCREMENT, `name` varchar(255) NOT NULL, `pinId` int NULL, `espId` int NULL, UNIQUE INDEX `REL_6615259f322726aa4791a8cf39` (`pinId`), UNIQUE INDEX `REL_71a4c09fc9f493851ff3cbffdc` (`espId`), PRIMARY KEY (`id`)) ENGINE=InnoDB
[2020-06-28T18:10:42.734Z][QUERY]: ALTER TABLE `room_list` DROP COLUMN `typeId`
[2020-06-28T18:10:42.855Z][QUERY]: ALTER TABLE `room_device` ADD CONSTRAINT `FK_6615259f322726aa4791a8cf399` FOREIGN KEY (`pinId`) REFERENCES `esp_pin`(`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
[2020-06-28T18:10:42.858Z][QUERY]: ALTER TABLE `room_device` ADD CONSTRAINT `FK_71a4c09fc9f493851ff3cbffdca` FOREIGN KEY (`espId`) REFERENCES `esp`(`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
[2020-06-28T18:10:43.272Z][QUERY]: SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = 'smarthome' AND `TABLE_NAME` = 'query-result-cache'
[2020-06-28T18:10:43.278Z][QUERY]: COMMIT
